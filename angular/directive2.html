<!DOCTYPE html>
<html ng-app="newApp">
<head>
    <title>Simple app</title>
    <style>
        .error {
            background-color: red;
        }
    </style>
</head>
<body>
    <div>
        <input my-directive2 ng-model="number" value="{{number}}" />
    </div>
    <script src="http://cdn.bootcss.com/angular.js/1.2.19/angular.js"></script>
    <script>
        var app = angular.module('newApp', []);

        app.directive('myDirective2', function () {
            return {
                require: '?ngModel',
                restrict: 'A',
                link: function (scope, el, attrs, ngModel) {
                    el.on('blur', function () {
                        if (ngModel.$modelValue == undefined || ngModel.$modelValue == null) return;

                        if (ngModel.$modelValue.length != 11) {
                            el.addClass("error");
                        }
                        else {
                            el.removeClass("error");
                        }
                    });

                }
            };
        });
    </script>
</body>
</html>